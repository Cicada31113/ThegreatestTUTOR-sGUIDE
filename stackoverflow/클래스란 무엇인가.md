# 클래스와 함수의 차이: 파이썬 클래스 기초 튜토리얼

함수와 클래스는 다르다.\
단순히 `def`를 `class`로 바꾸는 게 아니라, 클래스는 **데이터(속성)**과
**함수(메서드)**를 묶어 설계도를 만드는 개념이다.

------------------------------------------------------------------------

## Ball 클래스 예제

``` python
class Ball(object):
    def __init__(self):
        # 인스턴스가 만들어질 때 실행됨
        # 공의 초기 위치와 속도를 설정
        self.position = (100, 100)
        self.velocity = (0, 0)

    def bounce(self):
        # 세로 속도를 반대로 바꿔서 "튕김" 구현
        self.velocity = (self.velocity[0], -self.velocity[1])
```

사용 방법:

``` python
>>> ball1 = Ball()
>>> ball1.position
(100, 100)
>>> ball1.velocity
(0, 0)

>>> ball1.position = (200, 100)   # 위치 변경
>>> ball1.position
(200, 100)
```

독립성 확인:

``` python
>>> ball2 = Ball()
>>> ball2.velocity = (5, 10)
>>> ball2.velocity
(5, 10)
>>> ball1.velocity
(0, 0)
```

메서드 사용:

``` python
>>> ball2.bounce()
>>> ball2.velocity
(5, -10)
```

------------------------------------------------------------------------

## Room 클래스와 상속

방을 표현하는 클래스:

``` python
class Room(object):
    def __init__(self, name):
        self.name = name
```

인스턴스 생성:

``` python
>>> white_room = Room("White Room")
>>> white_room.name
'White Room'
```

### WhiteRoom 서브클래스

``` python
class WhiteRoom(Room):
    def __init__(self):
        self.name = 'White Room'

    def interact(self, line):
        if 'test' in line:
            print("'Test' to you, too!")
```

사용:

``` python
>>> white_room = WhiteRoom()
>>> white_room.interact('test')
'Test' to you, too!
```

### RedRoom 서브클래스

``` python
class RedRoom(Room):
    def __init__(self):
        self.name = 'Red Room'

    def interact(self, line):
        global current_room, white_room
        if 'white' in line:
            current_room = white_room
```

방 이동 테스트:

``` python
>>> red_room = RedRoom()
>>> current_room = red_room
>>> current_room.name
'Red Room'
>>> current_room.interact('go to white room')
>>> current_room.name
'White Room'
```

------------------------------------------------------------------------

## 게임 실행 함수

``` python
def play_game():
    global current_room
    while True:
        line = raw_input(current_room.name + '> ')
        current_room.interact(line)
```

게임 리셋 함수:

``` python
def reset_game():
    global current_room, white_room, red_room
    white_room = WhiteRoom()
    red_room = RedRoom()
    current_room = white_room
```

------------------------------------------------------------------------

## 실행하기

``` python
def main():
    reset_game()
    play_game()

if __name__ == '__main__':
    main()
```

이제 스크립트를 실행하면 텍스트 기반 게임을 플레이할 수 있다:

``` text
White Room> test
'Test' to you, too!
White Room> go to red room
Red Room> go to white room
White Room>
```

------------------------------------------------------------------------

## 요약

-   클래스는 데이터(속성) + 기능(메서드)의 묶음이다.
-   `__init__`은 객체 초기화에 쓰인다.
-   상속을 이용하면 공통 기능을 재사용하면서 특수화 가능하다.
-   전역 변수 대신 더 좋은 설계 방법들이 있지만, 여기선 간단히 전역으로
    현재 방을 추적했다.
